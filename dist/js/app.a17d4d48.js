(function(e){function t(t){for(var n,o,i=t[0],l=t[1],c=t[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},s=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"0525":function(e,t,a){"use strict";a("3b95")},"1ff3":function(e,t,a){"use strict";a("3f8e")},"2a33":function(e,t,a){e.exports=a.p+"img/folder.443dbb57.svg"},"2f27":function(e,t,a){},"3b95":function(e,t,a){},"3f8e":function(e,t,a){},"41d9":function(e,t,a){"use strict";a("e76a")},"531c":function(e,t,a){},"557b":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=a("ade3"),s=a("5530"),o="ADD_USER",i={ADD:"ADD"},l={data:{username:null,fullName:null}},c=Object(r["a"])({},o,(function(e,t){e.data=Object(s["a"])(Object(s["a"])({},e.me),t)})),u={},d={state:l,mutations:c,actions:u},m={LOGIN:"LOGIN",LOGOUT:"LOGOUT"},p={MY_PROJECT:"MY_PROJECT",CREATE:"CREATE"},f=(a("d3b7"),a("bc3a")),h=a.n(f),g=a("5c96"),b=a.n(g),v=h.a.create({baseURL:Object({NODE_ENV:"production",VUE_APP_NODE_ENV:"development",VUE_APP_API:"http://149.28.132.49:8000/api",VUE_APP_BASE_URL:"http://149.28.132.49/",VUE_APP_API_KEY_GOOGLE:"AIzaSyCO1TJ3n3ddYDrI-tYbk3Q6dT4XemSf_Ao",BASE_URL:"/"}).API,timeout:3e4,headers:{"X-Requested-With":"XMLHttpRequest"}});v.interceptors.request.use((function(e){return e.headers["Authorization"]="Bearer ".concat(localStorage.getItem("token")),e}),(function(e){Promise.reject(e)})),v.interceptors.response.use((function(e){return e}),(function(e){switch(e.response.status){case 401:localStorage.removeItem("token"),Ea.$router.push({name:"login"});break}return Object(g["Message"])({message:e.response.data.message,type:"error",duration:3e3}),Promise.reject(e)}));var _,k={data:{}},w=Object(r["a"])({},i.ADD,(function(e,t){e.data=t,localStorage.setItem("current-project",JSON.stringify(t))})),y=Object(r["a"])({},p.MY_PROJECT,(function(){return v.get("".concat("http://149.28.132.49:8000/api","/my-project"))})),x={state:k,mutations:w,actions:y},C={},P={},S=(_={},Object(r["a"])(_,m.LOGIN,(function(e,t){return v.post("".concat("http://149.28.132.49:8000/api","/auth/login"),t)})),Object(r["a"])(_,m.LOGOUT,(function(){return new Promise((function(e){e()}))})),_),O={state:C,mutations:P,actions:S},T={},j={},$={},D={state:T,mutations:j,actions:$},M=a("2f62");n["default"].use(M["a"]);var E=new M["a"].Store({modules:{profile:d,auth:O,schedule:D,project:x}}),R=a("2ef0"),I=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},L=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("401")])])}],A={name:"Page401"},N=A,V=a("2877"),z=Object(V["a"])(N,I,L,!1,null,null,null),B=z.exports,F=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},G=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("404")])])}],U={name:"Page404"},q=U,H=Object(V["a"])(q,F,G,!1,null,"46d19278",null),Y=H.exports,J=function(){var e=localStorage.getItem("token");return!!e},X=function(e){localStorage.setItem("token",e)},Q=function(){localStorage.removeItem("token")},W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"h-100",attrs:{type:"flex"}},[a("el-col",{staticClass:"block-center-parent background-login",attrs:{span:14}},[a("p",{staticClass:"text-center",staticStyle:{"font-size":"50px","font-weight":"bold"}},[e._v("VCM System")]),a("el-image",{staticClass:"block-center-child",attrs:{src:e.background}})],1),a("el-col",{staticClass:"block-center-parent",attrs:{span:10}},[a("el-col",{staticClass:"block-center-child background-form-login form-login",attrs:{span:16}},[a("el-col",{staticClass:"mb-2",attrs:{span:16,offset:4}},[a("h1",{staticClass:"text-center"},[e._v("Login")]),a("el-form",[a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{attrs:{placeholder:"Enter email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("el-form-item",{attrs:{label:"Password"}},[a("el-input",{attrs:{type:"password",placeholder:"Enter password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("el-form-item",{staticClass:"text-center mt-3"},[a("el-button",{staticClass:"w-100 font-bold",attrs:{type:"primary"},on:{click:e.login}},[e._v("Login")])],1)],1)],1)],1)],1)],1)},K=[],Z=a("1da1"),ee=(a("96cf"),a("ff51")),te=a.n(ee),ae={name:"Login",data:function(){return{email:null,password:null,background:te.a}},methods:Object(s["a"])(Object(s["a"])({login:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$bus.emit("change_loading",!0),t.prev=1,t.next=4,e[m.LOGIN]({email:e.email,password:e.password});case 4:return a=t.sent,t.next=7,e[o]({email:"hieutk",fullName:"tran kim hieu"});case 7:return e.$bus.emit("change_loading",!1),X(a.data.token),t.next=11,localStorage.setItem("user",JSON.stringify(a.data.user));case 11:e.$router.push({name:"company"}),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](1),console.log("error");case 17:case"end":return t.stop()}}),t,null,[[1,14]])})))()}},Object(M["b"])([m.LOGIN])),Object(M["c"])([o])),computed:Object(s["a"])({},Object(M["d"])(["profile"]))},ne=ae,re=(a("7135"),Object(V["a"])(ne,W,K,!1,null,"5b8c3bf1",null)),se=re.exports,oe=a("8c4f"),ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"h-2rem filter-header d-flex"},[a("div",{staticClass:"el-col-2 font-size-xx-large pointer",on:{click:e.removeLeftColumn}},[e._m(0)]),e._m(1),a("div",{staticClass:"el-col-2 font-size-xx-large pointer",on:{click:function(t){return e.changeUnit("day")}}},[e._m(2)]),a("div",{staticClass:"el-col-2 font-size-xx-large pointer",on:{click:function(t){return e.changeUnit("month")}}},[e._m(3)]),a("div",{staticClass:"el-col-4 el-col-offset-14"},[a("el-input",{attrs:{placeholder:"Search"},model:{value:e.form.search,callback:function(t){e.$set(e.form,"search",t)},expression:"form.search"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1)]),e.isOpenDetail?a("div",{staticClass:"right-container detail-task-right"},[a("div",{staticClass:"el-row"},[a("span",{staticClass:"el-col-2 pointer",on:{click:function(t){return e.toggleDetailTask()}}},[a("i",{staticClass:"el-icon-caret-right"})])]),a("div",{staticClass:"gantt-selected-info"},[e.selectedTask?a("div",[a("h2",[e._v(e._s(e.selectedTask.text))]),a("span",[a("b",[e._v("Assignee: ")]),e._v(e._s(e.selectedTask.assignee_obj.name))]),a("br"),a("span",[a("b",[e._v("Code: ")]),e._v(e._s(e.selectedTask.code))]),a("br"),a("p",{staticClass:"font-bold"},[e._v("Description")]),a("p",[e._v(e._s(e.selectedTask.title))]),a("span",[a("b",[e._v("Progress")]),a("el-progress",{attrs:{"text-inside":!0,"stroke-width":26,percentage:100*e.selectedTask.progress}})],1),a("span",[a("b",[e._v("Start Date: ")]),e._v(e._s(e._f("niceDate")(e.selectedTask.start_date)))]),a("br"),a("span",[a("b",[e._v("End Date: ")]),e._v(e._s(e._f("niceDate")(e.selectedTask.end_date)))]),a("br"),a("div",{staticClass:"d-flex mw-100 scroll-auto"},e._l(e.selectedTask.images,(function(e){return a("div",{key:e.id,staticClass:"p-1 pointer"},[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.url,fit:"fill"}})],1)})),0)]):e._e(),a("el-form",{staticClass:"mt-3"},[a("el-form-item",[a("el-button",{attrs:{loading:e.isLoadingBtnSend,type:"warning"},on:{click:function(t){return e.sendRequest(e.selectedTask)}}},[e._v("Report request")]),a("div",[e._v("Latest: 10:22:40 20/03/2021")])],1),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:8000/api/image/store",data:{taskId:e.selectedTask.id},"on-success":e.uploadImageSuccess,"show-file-list":!0}},[a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a("el-form-item",{attrs:{label:"Comment"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitComment()}}},[e._v("Comment")])],1)],1)],1),a("ul",{staticClass:"gantt-messages"},e._l(e.messages,(function(t){return a("li",{key:t+Math.random(),staticClass:"gantt-message"},[e._v(e._s(t)+" ")])})),0)]):e._e(),a("Popup",{attrs:{visible:e.isVisiblePopup,title:"Create task"}},[a("div",{attrs:{slot:"body"},slot:"body"},[a("div",[a("el-form",{ref:"form",attrs:{model:e.formTask,"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{"label-width":"150px",label:"Title"}},[a("el-input",{model:{value:e.formTask.title,callback:function(t){e.$set(e.formTask,"title",t)},expression:"formTask.title"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formTask.description,callback:function(t){e.$set(e.formTask,"description",t)},expression:"formTask.description"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Due date"}},[a("el-date-picker",{staticClass:"w-100",attrs:{type:"datetimerange","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date"},model:{value:e.formTask.startDate,callback:function(t){e.$set(e.formTask,"startDate",t)},expression:"formTask.startDate"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Assignee"}},[a("el-select",{staticClass:"w-100",attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"Choose assignee"},model:{value:e.formTask.assignee,callback:function(t){e.$set(e.formTask,"assignee",t)},expression:"formTask.assignee"}},e._l(e.users,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Type"}},[a("el-select",{staticClass:"w-100",attrs:{filterable:"","allow-create":"","default-first-option":"",placeholder:"Choose type"},model:{value:e.formTask.typeTask,callback:function(t){e.$set(e.formTask,"typeTask",t)},expression:"formTask.typeTask"}},e._l(e.types,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1)]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{loading:e.isLoadingBtnSend,type:"warning"},on:{click:function(t){return e.submitCreateTask()}}},[e._v("Save")]),a("el-button",{on:{click:function(t){return e.togglePopup()}}},[e._v("Cancel")])],1)]),a("Gantt",{staticClass:"left-container",attrs:{removeLeft:e.removeLeft,unit:e.unit,tasks:e.tasks}})],1)},le=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("i",{staticClass:"el-icon-s-fold"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-col-2 font-size-xx-large pointer"},[a("span",[a("i",{staticClass:"el-icon-download"})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("i",{staticClass:"el-icon-zoom-in"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("i",{staticClass:"el-icon-zoom-out"})])}],ce=(a("99af"),a("a4d3"),a("e01a"),a("4de4"),a("6bfb"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"gantt"})}),ue=[],de=(a("b0c0"),function(e){return v.get("".concat("http://149.28.132.49:8000/api","/task/list/").concat(e))}),me=function(e){return v.post("".concat("http://149.28.132.49:8000/api","/task/store"),e)},pe=function(e){return v.get("".concat("http://149.28.132.49:8000/api","/task/list-children/").concat(e))},fe=function(e){return v.get("".concat("http://149.28.132.49:8000/api","/task/list-parent/").concat(e))},he={name:"Gantt",data:function(){return{configLeft:{pos:"left",view:"grid",scrollX:"scrollHor",scrollY:"scrollVer"}}},props:{tasks:{type:Object,default:function(){return{data:[],links:[]}}},unit:null,removeLeft:null},methods:{$_customConfigGannt:function(){gantt.templates.task_text=function(e,t,a){return"<b>Title:</b> "+a.text+",<b> Assignee:</b> "+a.assignee_obj.name},gantt.plugins({marker:!0}),gantt.config.xml_date="%Y-%m-%d",gantt.config.layout={css:"gantt_container",rows:[{cols:[this.configLeft,{pos:"center",view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor"}]},gantt.locale.labels.section_assignee="Assignee",gantt.attachEvent("onGanttReady",(function(){gantt.config.buttons_left=["gantt_save_btn","gantt_cancel_btn","complete_button"],gantt.config.buttons_right=["gantt_delete_btn"],gantt.locale.labels["complete_button"]="",gantt.locale.labels.gantt_save_btn="Save",gantt.locale.labels.gantt_cancel_btn="Cancel",gantt.locale.labels.gantt_delete_btn="Delete"}))},$_initGanttEvents:function(){var e=this;gantt.$_eventsInitialized||(gantt.attachEvent("onTaskSelected",(function(t){var a=gantt.getTask(t);e.$bus.emit("task-selected",a)})),gantt.attachEvent("onTaskIdChange",(function(t,a){if(gantt.getSelectedId()===a){var n=gantt.getTask(a);e.$bus.emit("task-selected",n)}})),gantt.attachEvent("onBeforeGanttRender",(function(){var e=gantt.getSubtaskDates(),t=gantt.getState().scale_unit;e.start_date&&e.end_date&&(gantt.config.start_date=gantt.calculateEndDate(e.start_date,-4,t),gantt.config.end_date=gantt.calculateEndDate(e.end_date,5,t))})),gantt.attachEvent("onLightbox",(function(e){console.log(["----",e])})),gantt.attachEvent("onBeforeLightbox",(function(e){return!1})),gantt.attachEvent("onAfterLightbox",(function(e){return!1})),gantt.attachEvent("onBeforeTaskAdd",function(){var e=Object(Z["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),gantt.attachEvent("onAfterTaskUpdate",(function(e,t){gantt.render()})),gantt.attachEvent("onTaskCreated",(function(t){return e.$bus.emit("task-created",t.parent),!1})),gantt.$_eventsInitialized=!0)},$_initDataProcessor:function(){var e=this;gantt.$_dataProcessorInitialized||(gantt.createDataProcessor((function(t,a,n,r){e.$bus.emit("".concat(t,"-updated"),r,a,n)})),gantt.$_dataProcessorInitialized=!0)},$_createMarker:function(){var e=gantt.addMarker({start_date:new Date,css:"today",text:"Now"});setInterval((function(){var t=gantt.getMarker(e);t.start_date=new Date,t.text="Now",gantt.updateMarker(e),console.log("1")}),6e4)}},watch:{unit:function(e){var t="%j, %D";switch(e){case"month":t="%F, %Y";break;case"day":t="%j, %D";break}gantt.config.scales=[{unit:e,step:1,format:t}],gantt.render()},removeLeft:function(){"left"===gantt.config.layout.rows[0].cols[0].pos?gantt.config.layout.rows[0].cols.shift():gantt.config.layout.rows[0].cols.unshift(this.configLeft),gantt.init(this.$refs.gantt)}},mounted:function(){this.$_customConfigGannt(),this.$_initGanttEvents(),this.$_createMarker(),gantt.init(this.$refs.gantt),gantt.parse(this.$props.tasks),this.$_initDataProcessor()},created:function(){var e=this;this.$bus.on("reload",(function(){gantt.init(e.$refs.gantt),gantt.parse(e.$props.tasks)}))}},ge=he,be=(a("0525"),Object(V["a"])(ge,ce,ue,!1,null,"4d142766",null)),ve=be.exports,_e=a("9dac"),ke=a.n(_e),we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],ref:"backgroundCover",staticClass:"el-dialog__wrapper popup__middle overflow-hidden popup-bg",staticStyle:{"z-index":"2"}},[a("div",{ref:"popupElement",staticClass:"popup__main m-0 col-4 p-0 popup-border-radius"},[a("div",{staticClass:"el-dialog__header border-bottom"},[e._t("header"),e.title?a("h3",{staticClass:"text-center"},[e._v(e._s(e.title))]):e._e(),e.hasClose?a("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button"},on:{click:function(t){return e.$emit("on-close")}}},[a("i",{staticClass:"el-dialog__close el-icon el-icon-close font-weight-bold"})]):e._e()],2),a("div",{staticClass:"popup__body pl-4 pt-3 pb-3 pr-4"},[e._t("body")],2),a("div",{staticClass:"p-3 border-top"},[e._t("footer")],2)])])},ye=[],xe={name:"popup",props:{visible:{type:Boolean,default:!1},hasClose:{type:Boolean,default:!1},hasClickOutSide:{type:Boolean,default:!1},title:{type:String,default:""},onClose:{type:Object,default:null}},data:function(){return{isDisplay:!0}},methods:{hidden:function(){this.visible=!1},handleOutsideClick:function(e){this.hasClickOutSide&&this.$refs.backgroundCover.contains(e.target)&&this.$refs.popupElement!==e.target&&!this.$refs.popupElement.contains(e.target)&&(document.removeEventListener("click",this.handleOutsideClick),this.$emit("on-click-out-side"))}},mounted:function(){this.hasClickOutSide&&this.visible&&document.addEventListener("click",this.handleOutsideClick)},destroyed:function(){document.removeEventListener("click",this.handleOutsideClick)},watch:{visible:function(e){e&&this.hasClickOutSide&&document.addEventListener("click",this.handleOutsideClick)}}},Ce=xe,Pe=(a("c31c"),Object(V["a"])(Ce,we,ye,!1,null,"d32f4a10",null)),Se=Pe.exports,Oe=function(){return v.get("".concat("http://149.28.132.49:8000/api","/user/all"))},Te=function(e){return v.get("".concat("http://149.28.132.49:8000/api","/user/user-in-project/").concat(e))},je=function(e){return v.post("".concat("http://149.28.132.49:8000/api","/user/store-user"),e)},$e=function(e){return v.get("".concat("http://149.28.132.49:8000/api","/notification/all/").concat(e))},De=function(e){return v.post("".concat("http://149.28.132.49:8000/api","/notification/store"),e)},Me={name:"schedule",components:{Popup:Se,Gantt:ve},data:function(){return{tasks:{data:[],links:[{id:1,source:1,target:2,type:"0"},{id:2,source:1,target:16158837,type:"0"}]},unit:"day",removeLeft:!1,selectedTask:null,messages:[],isOpenDetail:!1,form:{search:null},imageDemo:ke.a,formTask:{title:"",description:"",startDate:"",endDate:"",assignee:"",parentId:"",progress:"",typeTask:""},types:[{id:1,name:"Project"},{id:2,name:"Milestone"},{id:3,name:"Task"}],users:[],isVisiblePopup:!1,isLoadingBtnSend:!1,user:"",comment:""}},filters:{toPercent:function(e){return e?Math.round(100*+e):"0"},niceDate:function(e){return"".concat(e.getFullYear()," / ").concat(e.getMonth()+1," / ").concat(e.getDate())}},methods:{addMessage:function(e){this.messages.unshift(e),this.messages.length>40&&this.messages.pop()},sendRequest:function(e){var t=this;return Object(Z["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.isLoadingBtnSend=!0,a.next=4,De({type_id:1,content:"".concat(e.code,": request that the user's task information be updated."),path:"schedule",task_id:e.id,user_id:e.assignee_id});case 4:a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](0),console.log(a.t0);case 9:return a.prev=9,t.isLoadingBtnSend=!1,a.finish(9);case 12:case"end":return a.stop()}}),a,null,[[0,6,9,12]])})))()},changeUnit:function(e){this.unit=e},toggleDetailTask:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isOpenDetail=!!e},removeLeftColumn:function(){this.removeLeft=!this.removeLeft},submitCreateTask:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoadingBtnSend=!0,a=JSON.parse(localStorage.getItem("current-project")),t.next=5,me({title:e.formTask.title,description:e.formTask.description,assignee_id:e.formTask.assignee,start_date:e.formTask.startDate[0],end_date:e.formTask.startDate[1],progress:0,type_id:e.formTask.typeTask,project_id:parseInt(a.id),task_parent_id:e.formTask.parentId});case 5:n=t.sent,n.data.filter((function(t){gantt.addTask(e.handleTypeTask(t))})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,e.isLoadingBtnSend=!1,e.togglePopup(),t.finish(12);case 16:case"end":return t.stop()}}),t,null,[[0,9,12,16]])})))()},togglePopup:function(){this.isVisiblePopup=!this.isVisiblePopup},handleTypeTask:function(e){var t={project:1,milestone:2,task:3};switch(e.type_id){case t.project:e.type=gantt.config.types.project;break;case t.milestone:e.type=gantt.config.types.milestone;break;case t.task:e.type=gantt.config.types.task;break}return e},submitComment:function(){this.addMessage(this.comment),this.comment=""},uploadImageSuccess:function(e){var t=this;this.tasks.data.filter((function(a,n){a.id==e.task_id&&(a.images.push(e),t.tasks.data[n]=a,t.selectedTask.images.push(e))}))}},created:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$bus.emit("change_loading",!0),e.user=JSON.parse(localStorage.getItem("user")),t.next=5,Oe();case 5:return a=t.sent,e.users=a.data,n=JSON.parse(localStorage.getItem("current-project")),t.next=10,de(n.id);case 10:r=t.sent,r.data.filter((function(t){e.tasks.data.push(e.handleTypeTask(t))})),e.$bus.emit("reload"),e.$bus.on("task-selected",(function(t){e.selectedTask=t,e.toggleDetailTask(!0)})),e.$bus.on("task-updated",(function(t,a,n){var r=n&&n.text?" (".concat(n.text,")"):"",o="Task ".concat(a,": ").concat(t," ").concat(r);e.selectedTask=Object(s["a"])(Object(s["a"])({},n),{},{start_date:new Date(n.start_date),end_date:new Date(n.end_date)}),e.addMessage(o),e.toggleDetailTask(!0)})),e.$bus.on("link-updated",(function(t,a,n){var r="Link ".concat(a,": ").concat(t);n&&(r+=" ( source: ".concat(n.source,", target: ").concat(n.target," )")),e.addMessage(r),e.toggleDetailTask(!0)})),e.$bus.on("task-created",function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.formTask.parentId=a,e.togglePopup();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](0),console.log(t.t0);case 22:return t.prev=22,e.$bus.emit("change_loading",!1),t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[0,19,22,25]])})))()},mounted:function(){document.querySelector("body").className="schedule-with-body"},destroyed:function(){document.querySelector("body").className="common-with-body"}},Ee=Me,Re=(a("41d9"),a("1ff3"),Object(V["a"])(Ee,ie,le,!1,null,"d4103f52",null)),Ie=Re.exports,Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{id:"master"}},[a("el-menu",{staticClass:"el-menu-demo header border-none",attrs:{"default-active":e.active,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:e.handleSelect}},[a("el-menu-item",{attrs:{index:"1"},on:{click:function(t){return e.handleClickPage("company")}}},[a("el-image",{staticStyle:{width:"57px",color:"aliceblue"},attrs:{src:e.logo}}),e.isLogin()?a("span",[e._v(e._s(e.project.data.name))]):a("span",[e._v("VCM System")])],1),e.isLogin()?a("el-menu-item",{attrs:{index:"2"},on:{click:function(t){return e.handleClickPage("overview")}}},[e._v("Overview")]):e._e(),e.isLogin()?a("el-menu-item",{attrs:{index:"3"},on:{click:function(t){return e.handleClickPage("schedule")}}},[e._v("Task")]):e._e(),e.isLogin()?a("el-menu-item",{attrs:{index:"4"},on:{click:function(t){return e.handleClickPage("member")}}},[e._v("People")]):e._e(),e.isLogin()?a("el-menu-item",{attrs:{index:"5"},on:{click:function(t){return e.handleClickPage("image")}}},[e._v("Image")]):e._e(),e.isLogin()?a("el-menu-item",{staticClass:"float-right",attrs:{index:"6"},on:{click:e.logout}},[a("span",[a("i",{staticClass:"el-icon-switch-button font-size-30"})])]):e._e(),e.isLogin()?a("el-menu-item",{staticClass:"float-right",attrs:{index:"7"},on:{click:function(t){return e.handleClickPage("setting")}}},[a("span",[a("i",{staticClass:"el-icon-setting font-size-30"})])]):e._e(),e.isLogin()?a("el-menu-item",{staticClass:"float-right",attrs:{index:"8"},on:{click:function(t){return e.handleClickPage("profile")}}},[a("span",[a("i",{staticClass:"el-icon-user font-size-30"})])]):e._e(),e.isLogin()?a("el-submenu",{staticClass:"log float-right",attrs:{index:"9"}},[a("template",{slot:"title"},[a("span",[a("i",{staticClass:"el-icon-bell font-size-30"},[a("el-badge",{staticClass:"item",attrs:{value:10,max:10}})],1)])]),e._l(6,(function(t){return a("el-menu-item",{key:t,attrs:{index:"9-1"},on:{click:function(a){return e.readNotifycation(t)}}},[e._v(e._s(e.getNotify(t))),e.getNotify(t)?a("el-badge",{staticClass:"ml-2",attrs:{value:"unread"}}):e._e()],1)})),e.listNotifications.length>5?a("el-menu-item",{staticClass:"color-burlywood",attrs:{index:"9-6"},on:{click:e.openDrawer}},[e._v("View all notifications "),a("i",{staticClass:"el-icon-caret-right"})]):e._e()],2):e._e()],1),a("router-view",{staticClass:"main-page scroll-auto"}),a("el-drawer",{attrs:{title:"I am the title",visible:e.drawer,"with-header":!1},on:{"update:visible":function(t){e.drawer=t}}},[a("div",{staticClass:"text-center font-size-30"},[e._v("Notifications")]),a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.load,expression:"load"}],staticClass:"infinite-list"},e._l(e.listNotifications,(function(t){return a("li",{key:t.id,staticClass:"infinite-list-item pointer hover-shadow"},[e._v(e._s(t.content)+" "),a("el-badge",{staticClass:"ml-2",attrs:{value:"unread"}})],1)})),0)])],1)},Ae=[],Ne=a("dbc3"),Ve=a.n(Ne),ze={name:"Master",data:function(){return{active:"3",avatar:a("d2c2"),uri:Object({NODE_ENV:"production",VUE_APP_NODE_ENV:"development",VUE_APP_API:"http://149.28.132.49:8000/api",VUE_APP_BASE_URL:"http://149.28.132.49/",VUE_APP_API_KEY_GOOGLE:"AIzaSyCO1TJ3n3ddYDrI-tYbk3Q6dT4XemSf_Ao",BASE_URL:"/"}).CLIENT_URL,logo:Ve.a,drawer:!1,listNotifications:0,listNameNavigation:{company:"1",overview:"2",schedule:"3",member:"4",image:"5",setting:"7",profile:"8"},loading:!1}},methods:Object(s["a"])(Object(s["a"])({load:function(){},logout:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e[m.LOGOUT]();case 2:Q(),e.$router.push({name:"login"});case 4:case"end":return t.stop()}}),t)})))()},handleSelect:function(e,t){},handleClickPage:function(e){e!==this.$router.history.current.name&&this.$router.push({name:e})},isLogin:function(){return J()}},Object(M["b"])([m.LOGOUT])),{},{openDrawer:function(){this.drawer=!0},getNotify:function(e){return this.listNotifications[e-1]?this.listNotifications[e-1].content:""},readNotifycation:function(e){this.handleClickPage(this.listNotifications[e-1].path)}}),created:function(){var e=this;this.avatar="http://149.28.132.49/"+this.avatar,this.$bus.on("change_loading",(function(t){e.loading=t}))},mounted:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=JSON.parse(localStorage.getItem("user")),t.next=4,$e(a.id);case 4:n=t.sent,e.listNotifications=n.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},watch:{$route:function(e,t){this.active=this.listNameNavigation[this.$router.history.current.name]}},computed:Object(s["a"])({},Object(M["d"])(["project"]))},Be=ze,Fe=(a("e26f"),Object(V["a"])(Be,Le,Ae,!1,null,"39d58653",null)),Ge=Fe.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"p-4"},[a("el-col",{staticClass:"p-4",attrs:{span:6}},[a("div",{staticClass:"card-project",on:{click:function(t){return e.toggle()}}},[a("el-card",{staticClass:"block-center-parent card-project hover-shadow pointer",attrs:{"body-style":{padding:"0px",width:"100%"}}},[a("div",{staticClass:"block-center-child",staticStyle:{width:"160px"}},[a("div",[a("i",{staticClass:"el-icon-circle-plus-outline mr-2"}),e._v("Add a new project")])])])],1)]),e._l(e.myProjects,(function(t){return a("el-col",{key:t.id,staticClass:"p-4",attrs:{span:6}},[a("el-card",{staticClass:"card-project hover-shadow pointer",attrs:{header:t.name,"body-style":{padding:"0px",width:"100%"}}},[a("el-image",{staticClass:"image",attrs:{src:e.imageProject},on:{click:function(a){return e.setProject(t)}}}),a("div",{staticStyle:{padding:"14px"}},[a("span",[e._v(e._s(t.captain_info.email))]),a("div",{staticClass:"bottom clearfix el-row"},[a("time",{staticClass:"time el-col-16"},[e._v(e._s(t.created_at))]),a("div",{staticClass:"float-right el-col-8 text-right"},[a("span",[a("i",{staticClass:"el-icon-s-tools"})])])])])],1)],1)})),a("Popup",{staticStyle:{"z-index":"20"},attrs:{visible:e.dialogFormVisible,title:"Create new project"}},[a("div",{attrs:{slot:"body"},slot:"body"},[a("div",[a("el-form",{ref:"form",attrs:{model:e.formProject,"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{"label-width":"150px",label:"Name"}},[a("el-input",{model:{value:e.formProject.name,callback:function(t){e.$set(e.formProject,"name",t)},expression:"formProject.name"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Code"}},[a("el-input",{model:{value:e.formProject.code,callback:function(t){e.$set(e.formProject,"code",t)},expression:"formProject.code"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Address"}},[a("Googlemap"),a("el-input",{staticClass:"mt-2",model:{value:e.formProject.address,callback:function(t){e.$set(e.formProject,"address",t)},expression:"formProject.address"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Manager"}},[a("el-select",{staticClass:"w-100",attrs:{filterable:"","allow-create":"","default-first-option":"",placeholder:"Choose type"},model:{value:e.formProject.manager,callback:function(t){e.$set(e.formProject,"manager",t)},expression:"formProject.manager"}},e._l(e.users,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1)]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning"}},[e._v("Save")]),a("el-button",{on:{click:function(t){return e.toggle()}}},[e._v("Cancel")])],1)])],2)},qe=[],He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("GmapMap",{staticStyle:{width:"100%",height:"400px"},attrs:{center:e.center,zoom:12}},e._l(e.markers,(function(t,n){return a("GmapMarker",{key:n,attrs:{position:t.position},on:{click:function(a){e.center=t.position}}})})),1)],1)},Ye=[],Je={name:"GoogleMap",data:function(){return{center:{lat:45.508,lng:-73.587},markers:[],places:[]}},mounted:function(){this.geolocate()},methods:{setPlace:function(e){this.currentPlace=e},addMarker:function(){if(this.currentPlace){var e={lat:this.currentPlace.geometry.location.lat(),lng:this.currentPlace.geometry.location.lng()};this.markers.push({position:e}),this.places.push(this.currentPlace),this.center=e,this.currentPlace=null}},geolocate:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){e.center={lat:t.coords.latitude,lng:t.coords.longitude}}))}}},Xe=Je,Qe=Object(V["a"])(Xe,He,Ye,!1,null,null,null),We=Qe.exports,Ke=a("9704"),Ze=a.n(Ke),et={name:"Project",components:{Popup:Se,Googlemap:We},data:function(){return{currentDate:new Date,imageProject:Ze.a,dialogFormVisible:!1,formProject:{name:"",code:"",manager:"",address:""},myProjects:[],users:[{id:1,name:"HieuTK"},{id:2,name:"HieuTK2"}]}},methods:Object(s["a"])(Object(s["a"])({setProject:function(e){this[i.ADD](e),this.handleClickPage("overview")},handleClickPage:function(e){this.$router.push({name:e})},toggle:function(){this.dialogFormVisible=!this.dialogFormVisible}},Object(M["b"])([p.MY_PROJECT])),Object(M["c"])([i.ADD])),created:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$bus.emit("change_loading",!0),t.next=4,e[p.MY_PROJECT]();case 4:a=t.sent,e.myProjects=a.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:return t.prev=11,e.$bus.emit("change_loading",!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()}},tt=et,at=(a("c473"),Object(V["a"])(tt,Ue,qe,!1,null,"de9df89c",null)),nt=at.exports,rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"text-center h-100"},[a("el-col",{staticClass:"h-100",attrs:{span:24}},[a("div",{staticClass:"h-100"},[a("el-col",{staticClass:"h-100 right-line ",attrs:{span:8}},[a("el-row",{staticClass:"mt-2"},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"text-left ml-2"},[e._v("Status")])]),a("el-col",{staticClass:"text-right pointer",attrs:{span:12}},[a("span",[a("i",{staticClass:"el-icon-pie-chart mr-2"}),a("generate-report",[a("div",{staticClass:"p-4",attrs:{slot:"content"},slot:"content"},[a("h1",{staticClass:"text-center w-100"},[e._v(e._s(e.currentProject.name))]),a("el-row",[a("div",{staticClass:"font-bold",staticStyle:{"font-size":"2rem",margin:"0"}},[e._v(e._s(e.currentProject.remaining))]),a("div",{staticStyle:{"font-size":"x-large"}},[e._v("days remaining")]),a("div",{staticClass:"mt-3 font-bold",staticStyle:{"font-size":"1rem"}},[e._v(e._s(e.currentProject.end_date))]),a("div",[e._v("Scheduled end date")]),a("div",{staticStyle:{"margin-top":"1rem","font-size":"1rem"}},[e._v(e._s(e.getProgress(this.taskStatus.completed))+"% Completed")]),a("div",{staticStyle:{"font-size":"1rem"}},[e._v(e._s(e.getProgress(this.taskStatus.inProgress))+"% In progress")]),a("div",{staticStyle:{"font-size":"1rem"}},[e._v(e._s(100-e.getProgress(this.taskStatus.inProgress)-e.getProgress(this.taskStatus.completed))+"% Delayed")])]),a("div",{staticStyle:{"margin-top":"2rem"}},[a("div",[a("vc-donut",{key:e.keyDonut,attrs:{background:"white",foreground:"grey",size:200,unit:"px",thickness:30,"has-legend":"","legend-placement":"top",sections:e.sections,total:100,"start-angle":0,"auto-adjust-text-size":!0}})],1)]),a("h2",[e._v("Delayed")]),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.getTaskDelayed("delayed")}},[a("el-table-column",{attrs:{prop:"task_name",label:"Task name",width:"180"}}),a("el-table-column",{attrs:{prop:"progress_percent",label:"Progress",width:"180"}}),a("el-table-column",{attrs:{prop:"state",label:"State"}}),a("el-table-column",{attrs:{prop:"assignee",label:"Assignee"}})],1),a("h2",{staticClass:"mt-2"},[e._v("Completed")]),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.getTaskDelayed("completed")}},[a("el-table-column",{attrs:{prop:"task_name",label:"Task name",width:"180"}}),a("el-table-column",{attrs:{prop:"progress_percent",label:"Progress",width:"180"}}),a("el-table-column",{attrs:{prop:"state",label:"State"}}),a("el-table-column",{attrs:{prop:"assignee",label:"Assignee"}})],1),a("h2",{staticClass:"mt-2"},[e._v("In Procgress")]),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.getTaskDelayed("inprogress")}},[a("el-table-column",{attrs:{prop:"task_name",label:"Task name",width:"180"}}),a("el-table-column",{attrs:{prop:"progress_percent",label:"Progress",width:"180"}}),a("el-table-column",{attrs:{prop:"state",label:"State"}}),a("el-table-column",{attrs:{prop:"assignee",label:"Assignee"}})],1)],1)]),a("span",{on:{click:function(t){return e.gotoGenerate()}}},[e._v("Export PDF")])],1)])],1),a("el-row",[a("div",{staticClass:"font-bold",staticStyle:{"font-size":"2rem",margin:"0"}},[e._v(e._s(e.currentProject.remaining))]),a("div",{staticStyle:{"font-size":"x-large"}},[e._v("days remaining")]),a("div",{staticClass:"mt-3 font-bold",staticStyle:{"font-size":"1rem"}},[e._v(e._s(e.currentProject.end_date))]),a("div",[e._v("Scheduled end date")]),a("div",{staticStyle:{"margin-top":"1rem","font-size":"1rem"}},[e._v(e._s(e.getProgress(this.taskStatus.completed))+"% Completed")]),a("div",{staticStyle:{"font-size":"1rem"}},[e._v(e._s(e.getProgress(this.taskStatus.inProgress))+"% In progress")]),a("div",{staticStyle:{"font-size":"1rem"}},[e._v(e._s(100-e.getProgress(this.taskStatus.inProgress)-e.getProgress(this.taskStatus.completed))+"% Delayed")])]),a("div",{staticClass:"block-center-parent",staticStyle:{height:"calc(100% - 312px)","margin-top":"2rem"}},[a("div",{staticClass:"block-center-child"},[a("vc-donut",{key:e.keyDonut,attrs:{background:"white",foreground:"grey",size:200,unit:"px",thickness:30,"has-legend":"","legend-placement":"top",sections:e.sections,total:100,"start-angle":0,"auto-adjust-text-size":!0}})],1)])],1),a("el-col",{attrs:{span:16}},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData,height:e.calcTableHeight}},[a("el-table-column",{attrs:{prop:"task_name",label:"Task name",width:"180"}}),a("el-table-column",{attrs:{prop:"progress_percent",label:"Progress",width:"180"}}),a("el-table-column",{attrs:{prop:"state",label:"State"}}),a("el-table-column",{attrs:{prop:"assignee",label:"Assignee"}})],1)],1)],1)])],1)],1)},st=[],ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":e.controlValue.showLayout,"float-layout":e.controlValue.floatLayout,"enable-download":e.controlValue.enableDownload,"preview-modal":e.controlValue.previewModal,filename:e.controlValue.filename,"paginate-elements-by-height":e.controlValue.paginateElementsByHeight,"pdf-quality":e.controlValue.pdfQuality,"pdf-format":e.controlValue.pdfFormat,"pdf-orientation":e.controlValue.pdfOrientation,"pdf-content-width":e.controlValue.pdfContentWidth,"manual-pagination":e.controlValue.manualPagination,"html-to-pdf-options":e.htmlToPdfOptions},on:{progress:function(t){return e.onProgress(t)},startPagination:function(t){return e.startPagination()},hasPaginated:function(t){return e.hasPaginated()},beforeDownload:function(t){return e.beforeDownload(t)},hasDownloaded:function(t){return e.hasDownloaded(t)}}},[a("div",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[e._t("content")],2)])],1)},it=[],lt=(a("caad"),a("6480")),ct={name:"GenerateReport",components:{VueHtml2pdf:lt["a"]},data:function(){return{controlValue:{showLayout:!1,floatLayout:!0,enableDownload:!0,previewModal:!0,paginateElementsByHeight:1100,manualPagination:!1,filename:"Report",pdfQuality:2,pdfFormat:"a4",pdfOrientation:"portrait",pdfContentWidth:"800px"}}},computed:{htmlToPdfOptions:function(){return{margin:0,filename:"Report.pdf",image:{type:"jpeg",quality:.98},enableLinks:!0,html2canvas:{scale:this.controlValue.pdfQuality,useCORS:!0},jsPDF:{unit:"in",format:this.controlValue.pdfFormat,orientation:this.controlValue.pdfOrientation}}}},methods:{downloadPdf:function(){return Object(Z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},validateControlValue:function(){if(this.controlValue.pdfQuality>2)return alert("pdf-quality value should only be 0 - 2"),this.controlValue.pdfQuality=2,!1;if(!this.controlValue.paginateElementsByHeight)return alert("paginate-elements-by-height value cannot be empty"),this.controlValue.paginateElementsByHeight=1400,!1;var e=["a0","a1","a2","a3","a4","letter","legal","a5","a6","a7","a8","a9","a10"];return e.includes(this.controlValue.pdfFormat)?this.controlValue.pdfOrientation?!!this.controlValue.pdfContentWidth||(alert("pdf-content-width value cannot be empty"),this.controlValue.pdfContentWidth="800px",!1):(alert("pdf-orientation value cannot be empty"),this.controlValue.pdfOrientation="portrait",!1):(alert("pdf-format value should only be ".concat(e)),this.controlValue.pdfFormat="a4",!1)},onProgress:function(e){this.progress=e,console.log("PDF generation progress: ".concat(e,"%"))},startPagination:function(){console.log("PDF has started pagination")},hasPaginated:function(){console.log("PDF has been paginated")},beforeDownload:function(e){return Object(Z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.html2pdf,e.options,e.pdfContent,console.log("On Before PDF Generation");case 2:case"end":return t.stop()}}),t)})))()},hasDownloaded:function(e){console.log("PDF has downloaded yehey"),this.pdfDownloaded=!0,console.log(e)},domRendered:function(){console.log("Dom Has Rendered"),this.contentRendered=!0},onBlobGenerate:function(e){console.log(e)}},mounted:function(){var e=this;this.$bus.on("generate-report",(function(){e.$refs.html2Pdf.generatePdf()}))}},ut=ct,dt=Object(V["a"])(ut,ot,it,!1,null,"df99a7d8",null),mt=dt.exports,pt={name:"Home",components:{GenerateReport:mt},data:function(){return{sections:[{label:"In progress",value:0,color:"#f5f531"},{label:"Completed",value:0,color:"#59de16"},{label:"Delayed",value:0,color:"#e02664"}],tableData:[],tableHeight:500,taskStatus:{total:0,inProgress:0,completed:0,delay:0},currentProject:"",keyDonut:1}},methods:{getStatus:function(e){var t=new Date(e.end_date),a=new Date;return t<a&&e.progress<1?1:1==e.progress?2:3},getProgress:function(e){return Math.floor(0===this.taskStatus.total?0:e/this.taskStatus.total*100)},fetchDonit:function(){this.sections[2].value=this.getProgress(this.taskStatus.delay),this.sections[1].value=this.getProgress(this.taskStatus.completed),this.sections[0].value=100-this.getProgress(this.taskStatus.delay)-this.getProgress(this.taskStatus.completed)},handleData:function(e){this.taskStatus.total++;var t=new Date(e.end_date),a="";switch(this.getStatus(e)){case 1:a="Delayed "+t.toDateString(),this.taskStatus.delay++;break;case 2:a="Completed",this.taskStatus.completed++;break;case 3:a="Inprogress",this.taskStatus.inProgress++;break}return Object(s["a"])({task_name:e.title,progress_percent:100*e.progress,state:a,assignee:e.assignee_obj.name},e)},gotoGenerate:function(){this.$bus.emit("generate-report",this.tableData)},getTaskDelayed:function(e){var t=this;switch(e){case"delayed":return this.tableData.filter((function(e){return 1===t.getStatus(e)}));case"inprogress":return this.tableData.filter((function(e){return 3===t.getStatus(e)}));case"completed":return this.tableData.filter((function(e){return 2===t.getStatus(e)}))}}},created:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$bus.emit("change_loading",!0),a=JSON.parse(localStorage.getItem("current-project")),e.currentProject=a,t.next=6,de(a.id);case 6:n=t.sent,n.data.filter((function(t){e.tableData.push(e.handleData(t))})),e.fetchDonit(),e.keyDonut++,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:return t.prev=15,e.$bus.emit("change_loading",!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,12,15,18]])})))()},computed:{calcTableHeight:function(){return window.innerHeight-60}},watch:{}},ft=pt,ht=Object(V["a"])(ft,rt,st,!1,null,"697277a8",null),gt=ht.exports,bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-row"},[a("div",{staticClass:"el-col-24 d-flex mt-2 border-round-input"},[a("el-col",{attrs:{span:6}},[a("button",{class:"el-button el-button--warning is-plain "+(e.stateMember?"btn-focus":""),attrs:{type:"button"},on:{click:function(t){return e.swicthPage("member")}}},[a("span",[e._v("Members")])]),a("button",{class:"el-button el-button--warning is-plain  "+(e.stateMember?"":"btn-focus"),attrs:{type:"button"},on:{click:function(t){return e.swicthPage("team")}}},[a("span",[e._v("Teams")])])]),a("el-col",{attrs:{span:3}},[e.stateMember?a("el-select",{staticClass:"w-100",attrs:{placeholder:"Category"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.roles,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1):a("el-select",{staticClass:"w-100",attrs:{placeholder:"Category"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.categories,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),e.stateMember?a("el-col",{staticClass:"ml-2",attrs:{span:3}},[a("el-select",{staticClass:"w-100",attrs:{multiple:"","collapse-tags":"",placeholder:"Teams"},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}},e._l(e.teams,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1):e._e(),a("el-col",{staticClass:"ml-2",attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Please input search"}})],1),a("el-col",{staticClass:"ml-2",attrs:{span:3}},[a("button",{staticClass:"el-button el-button--default is-circle",attrs:{type:"button"}},[a("i",{staticClass:"el-icon-search"})])]),a("el-col",{attrs:{span:e.stateMember?4:6}},[a("button",{staticClass:"el-button el-button--primary is-round float-right",attrs:{type:"button"},on:{click:function(t){return e.toggle(e.stateMember)}}},[a("span",[a("i",{staticClass:"el-icon-circle-plus"})]),e.stateMember?a("span",{staticClass:"ml-2"},[e._v("Add member")]):e._e(),e.stateMember?e._e():a("span",{staticClass:"ml-2"},[e._v("Add team")])])])],1),e.stateMember?a("UserTable",{attrs:{users:e.userData}}):e._e(),e.stateMember?e._e():a("TeamTable",{attrs:{teams:e.teams}}),a("Popup",{staticStyle:{"z-index":"20"},attrs:{visible:e.isVisiblePopupMember,title:"Create member"}},[a("div",{attrs:{slot:"body"},slot:"body"},[a("div",[a("el-form",{ref:"form",attrs:{model:e.formMember,"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{"label-width":"150px",label:"Name"}},[a("el-input",{model:{value:e.formMember.name,callback:function(t){e.$set(e.formMember,"name",t)},expression:"formMember.name"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Email"}},[a("el-input",{attrs:{type:"text"},model:{value:e.formMember.email,callback:function(t){e.$set(e.formMember,"email",t)},expression:"formMember.email"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Address"}},[a("el-input",{attrs:{type:"text"},model:{value:e.formMember.address,callback:function(t){e.$set(e.formMember,"address",t)},expression:"formMember.address"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Phone"}},[a("el-input",{attrs:{type:"text"},model:{value:e.formMember.phone,callback:function(t){e.$set(e.formMember,"phone",t)},expression:"formMember.phone"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Role"}},[a("el-select",{staticClass:"w-100",attrs:{filterable:"","allow-create":"","default-first-option":"",placeholder:"Choose assignee"},model:{value:e.formMember.role_id,callback:function(t){e.$set(e.formMember,"role_id",t)},expression:"formMember.role_id"}},e._l(e.roles,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Team"}},[a("el-select",{staticClass:"w-100",attrs:{filterable:"","allow-create":"","default-first-option":"",placeholder:"Choose type"},model:{value:e.formMember.team_id,callback:function(t){e.$set(e.formMember,"team_id",t)},expression:"formMember.team_id"}},e._l(e.teams,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1)]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{loading:e.isLoadingBtnSubmit,type:"warning"},on:{click:function(t){return e.submitCreateMember()}}},[e._v("Save")]),a("el-button",{on:{click:function(t){return e.toggleMemberForm()}}},[e._v("Cancel")])],1)]),a("Popup",{staticStyle:{"z-index":"20"},attrs:{visible:e.isVisiblePopupTeam,title:"Create team"}},[a("div",{attrs:{slot:"body"},slot:"body"},[a("div",[a("el-form",{ref:"form",attrs:{model:e.formTeam,"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{"label-width":"150px",label:"Name"}},[a("el-input",{model:{value:e.formTeam.name,callback:function(t){e.$set(e.formTeam,"name",t)},expression:"formTeam.name"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formTeam.description,callback:function(t){e.$set(e.formTeam,"description",t)},expression:"formTeam.description"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Category"}},[a("el-select",{staticClass:"w-100",attrs:{filterable:"","allow-create":"","default-first-option":"",placeholder:"Choose type"},model:{value:e.formTeam.category_id,callback:function(t){e.$set(e.formTeam,"category_id",t)},expression:"formTeam.category_id"}},e._l(e.categories,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1)]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{loading:e.isLoadingBtnSubmit,type:"warning"},on:{click:function(t){return e.submitCreateMTeam()}}},[e._v("Save")]),a("el-button",{on:{click:function(t){return e.toggleTeamForm()}}},[e._v("Cancel")])],1)])],1)},vt=[],_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-col-24 mt-2"},[a("el-table",{staticClass:"table-member",staticStyle:{width:"100%"},attrs:{data:e.users,"max-height":e.calcTableHeight()}},[a("el-table-column",{attrs:{prop:"name",label:"Name",width:"300"}}),a("el-table-column",{attrs:{prop:"email",label:"Email",width:"300"}}),a("el-table-column",{attrs:{prop:"phone",label:"Cell Phone",width:"300"}}),a("el-table-column",{attrs:{prop:"address",label:"Address",width:"300"}}),a("el-table-column",{attrs:{prop:"role_name",label:"Role",width:"300"}}),a("el-table-column",{attrs:{prop:"created_at",label:"Created at",width:"200"}}),a("el-table-column",{attrs:{fixed:"right",label:"Operations",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"color-y",attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,e.tableData)}}},[e._v(" Edit ")])]}}])})],1)],1)},kt=[],wt={name:"UserTable",data:function(){return{tableData:[]}},props:{users:{default:[]}},methods:{deleteRow:function(){},calcTableHeight:function(){var e,t=document.getElementById("master"),a=null!==(e=null===t||void 0===t?void 0:t.offsetHeight)&&void 0!==e?e:500;return a-32-40}},mounted:function(){},created:function(){}},yt=wt,xt=(a("96b7"),Object(V["a"])(yt,_t,kt,!1,null,"15f69038",null)),Ct=xt.exports,Pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-col-24 mt-2"},[a("el-table",{staticClass:"table-member",staticStyle:{width:"100%"},attrs:{data:e.teams,"max-height":e.calcTableHeight()}},[a("el-table-column",{attrs:{prop:"name",label:"Name",width:"300"}}),a("el-table-column",{attrs:{prop:"leader",label:"Leader",width:"300"}}),a("el-table-column",{attrs:{prop:"category",label:"Category",width:"300"}}),a("el-table-column",{attrs:{prop:"description",label:"Description",width:"300"}}),a("el-table-column",{attrs:{prop:"total_member",label:"Total member",width:"300"}}),a("el-table-column",{attrs:{prop:"created_at",label:"Created at",width:"200"}}),a("el-table-column",{attrs:{fixed:"right",label:"Operations",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"color-y",attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,e.tableData)}}},[e._v(" Edit ")])]}}])})],1)],1)},St=[],Ot={name:"TeamTable",data:function(){return{}},props:{teams:{default:[]}},methods:{deleteRow:function(){},calcTableHeight:function(){var e,t=document.getElementById("master"),a=null!==(e=null===t||void 0===t?void 0:t.offsetHeight)&&void 0!==e?e:500;return a-32-40}},mounted:function(){}},Tt=Ot,jt=(a("7e41"),Object(V["a"])(Tt,Pt,St,!1,null,"3cdda964",null)),$t=jt.exports,Dt=function(e){return v.get("".concat("http://149.28.132.49:8000/api","/team/team-in-project/").concat(e))},Mt=function(e){return v.post("".concat("http://149.28.132.49:8000/api","/team/store"),e)},Et={name:"People",components:{Popup:Se,TeamTable:$t,UserTable:Ct},data:function(){return{stateMember:!0,options:[{value:"all",label:"All"},{value:"Option2",label:"Option2"},{value:"Option3",label:"Option3"},{value:"Option4",label:"Option4"},{value:"Option5",label:"Option5"}],value1:[],value2:[],isVisiblePopupMember:!1,isVisiblePopupTeam:!1,formMember:{name:"",email:"",address:"",phone:"",role_id:"",team_id:""},formTeam:{name:"",category_id:"",description:"",project_id:""},userData:[],roles:[{id:1,name:"Manager"},{id:2,name:"Team leader"},{id:3,name:"employee"}],teams:[],isLoadingBtnSubmit:!1,categories:[{id:1,name:"Manager"},{id:2,name:"Contract"},{id:3,name:"Everyday"}]}},methods:{swicthPage:function(e){switch(e){case"member":this.stateMember=!0;break;case"team":this.stateMember=!1;break;default:this.stateMember=!0}},submitCreateMember:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoadingBtnSubmit=!0,t.next=4,je(e.formMember);case 4:return t.next=6,e.fetchMembers();case 6:return t.next=8,e.fetchTeams();case 8:e.toggleMemberForm(),e.formTeam={name:"",email:"",address:"",phone:"",role_id:"",team_id:""},t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:return t.prev=15,e.isLoadingBtnSubmit=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,12,15,18]])})))()},submitCreateMTeam:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoadingBtnSubmit=!0,t.next=4,Mt(Object(s["a"])(Object(s["a"])({},e.formTeam),{project_id:JSON.parse(localStorage.getItem("current-project")).id}));case 4:return t.next=6,e.fetchMembers();case 6:return t.next=8,e.fetchTeams();case 8:e.toggleTeamForm(),e.formMember={name:"",category_id:"",description:"",project_id:""},t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:return t.prev=15,e.isLoadingBtnSubmit=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,12,15,18]])})))()},toggleMemberForm:function(){this.isVisiblePopupMember=!this.isVisiblePopupMember},toggleTeamForm:function(){this.isVisiblePopupTeam=!this.isVisiblePopupTeam},toggle:function(e){e?this.toggleMemberForm():this.toggleTeamForm()},fetchMembers:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=JSON.parse(localStorage.getItem("current-project")),t.next=3,Te(a.id);case 3:n=t.sent,e.userData=n.data;case 5:case"end":return t.stop()}}),t)})))()},fetchTeams:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=JSON.parse(localStorage.getItem("current-project")),t.next=3,Dt(a.id);case 3:n=t.sent,e.teams=n.data;case 5:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$bus.emit("change_loading",!0),t.next=4,e.fetchMembers();case 4:return t.next=6,e.fetchTeams();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:return t.prev=11,e.$bus.emit("change_loading",!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()}},Rt=Et,It=(a("e579"),Object(V["a"])(Rt,bt,vt,!1,null,"02f8d506",null)),Lt=It.exports,At=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"h-2rem fixed z-100 w-100 d-flex 2rem item-center item-space-between ",class:e.bgBreadcrumb},[a("div",{staticClass:"ml-2"},e._l(e.breadcrumbs,(function(t){return a("span",{key:t.id,staticClass:"pointer el-icon-arrow-right el-breadcrumb-hover",on:{click:function(a){return e.gotoFolder(1,t.id)}}},[e._v(e._s(t.title))])})),0),e.isInMyCollection?e._e():a("div",{staticClass:"el-col-3 h-100"},[a("el-input",{staticClass:"h-100",attrs:{placeholder:"Search"}},[a("i",{staticClass:"el-input__icon el-icon-search h-100",attrs:{slot:"prefix"},slot:"prefix"})])],1)]),e.isInMyCollection?e._e():a("el-row",{staticClass:"mt-2rem"},[this.breadcrumbs.slice(-1)[0].home?e._e():a("div",{staticClass:"el-col-2 mt-2"},[a("img",{staticClass:"w-100 max-h-100 pointer hover-shadow",attrs:{src:e.iconImage},on:{click:function(t){return e.gotoFolder(0)}}})]),e._l(e.listFolder,(function(t){return a("div",{key:t.id,staticClass:"el-col-2 mt-2"},[a("img",{staticClass:"w-100 max-h-100 pointer hover-shadow",attrs:{src:e.iconFolder},on:{click:function(a){return e.gotoFolder(1,t.id)}}}),a("div",{staticClass:"text-center"},[a("span",[e._v(e._s(t.title))])])])}))],2),e.isInMyCollection?a("FolderImage",{staticClass:"h-100",attrs:{imageSource:e.imageSource}}):e._e()],1)},Nt=[],Vt=(a("fb6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-10 is-vertical is-parent h-100 bg-images scroll-auto"},[a("div",{staticClass:"viewer-wrapper h-100"},[a("viewer",{ref:"viewer",staticClass:"viewer",attrs:{options:e.options,images:e.images},on:{inited:e.inited},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"images"},e._l(t.images,(function(e){var t=e.id,n=e.url;return a("div",{key:t,staticClass:"image-wrapper"},[a("img",{staticClass:"image",attrs:{src:n,"data-source":n,alt:t}})])})),0)]}}])})],1)])])}),zt=[],Bt={name:"folderImage",data:function(){return{form:{view:2,zoom:-.1,zoomTo:.8,rotate:90,rotateTo:180,scaleX:1,scaleY:1},toggleOptions:["button","navbar","title","toolbar","tooltip","movable","zoomable","rotatable","scalable","transition","fullscreen","keyboard"],options:{inline:!1,button:!0,navbar:!0,title:!0,toolbar:!0,tooltip:!0,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,transition:!0,fullscreen:!0,keyboard:!0,url:"data-source"},images:[]}},props:{imageSource:Array},computed:{},methods:{inited:function(e){this.$viewer=e},view:function(){this.form.view>=0&&this.form.view<this.images.length&&this.$viewer.view(this.form.view)},zoom:function(e){this.$viewer.zoom(e||this.form.zoom)},zoomTo:function(){this.$viewer.zoomTo(this.form.zoomTo)},rotate:function(e){this.$viewer.rotate(e||this.form.rotate)},rotateTo:function(){this.$viewer.rotateTo(this.form.rotateTo)},scaleX:function(e){e?this.$viewer.scaleX(e):(this.form.scaleX=-this.form.scaleX,this.$viewer.scaleX(this.form.scaleX))},scaleY:function(e){e?this.$viewer.scaleY(e):(this.form.scaleY=-this.form.scaleY,this.$viewer.scaleY(this.form.scaleY))},full:function(){this.$viewer.full()},tooltip:function(){this.$viewer.tooltip()}},created:function(){this.images=this.imageSource}},Ft=Bt,Gt=(a("fea2"),Object(V["a"])(Ft,Vt,zt,!1,null,"7599917e",null)),Ut=Gt.exports,qt=a("b174"),Ht=a.n(qt),Yt=a("2a33"),Jt=a.n(Yt),Xt=function(e){return v.get("".concat("http://149.28.132.49:8000/api","/image/list/").concat(e))},Qt={name:"Image",data:function(){return{iconImage:Ht.a,iconFolder:Jt.a,isInMyCollection:!1,folderList:[1,2,3,4,5,6,7,8],bgBreadcrumb:"bg-tool-gray",animationText:null,listFolder:[],imageSource:[],breadcrumbs:[{home:!0,title:"Home",id:0}]}},components:{FolderImage:Ut},methods:{changeBgBreadcrumb:function(){this.bgBreadcrumb=this.isInMyCollection?"animation-from-white":"bg-tool-gray"},changeIsMyCollection:function(e){var t=arguments,a=this;return Object(Z["a"])(regeneratorRuntime.mark((function n(){var r,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.length>1&&void 0!==t[1]?t[1]:null,n.prev=1,a.$bus.emit("change_loading",!0),!e){n.next=8;break}return n.next=6,Xt(a.breadcrumbs.slice(-1)[0].id);case 6:s=n.sent,a.imageSource=s.data;case 8:if(0===r){n.next=13;break}return n.next=11,pe(r);case 11:o=n.sent,a.listFolder=o.data;case 13:a.isInMyCollection=e,n.next=19;break;case 16:n.prev=16,n.t0=n["catch"](1),console.log(n.t0);case 19:return n.prev=19,a.$bus.emit("change_loading",!1),n.finish(19);case 22:case"end":return n.stop()}}),n,null,[[1,16,19,22]])})))()},home:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$bus.emit("change_loading",!0),a=JSON.parse(localStorage.getItem("current-project")),t.next=5,fe(a.id);case 5:n=t.sent,e.listFolder=n.data,e.imageSource=[],e.isInMyCollection=!1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:return t.prev=14,e.$bus.emit("change_loading",!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])})))()},gotoFolder:function(e){var t=arguments,a=this;return Object(Z["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.length>1&&void 0!==t[1]?t[1]:null,1!==e){n.next=4;break}return n.next=4,a.handleChangeBreadcrumb(r);case 4:a.changeIsMyCollection(0===e,r);case 5:case"end":return n.stop()}}),n)})))()},handleChangeBreadcrumb:function(e){var t=this;return Object(Z["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.breadcrumbs.filter((function(t){return t.id===e})),0===n.length){a.next=11;break}if(!n[0].home){a.next=8;break}return t.breadcrumbs=[{home:!0,title:"Home",id:0}],a.next=6,t.home();case 6:a.next=9;break;case 8:while(t.breadcrumbs.slice(-1)[0].id!==e)t.breadcrumbs.pop();case 9:a.next=13;break;case 11:r=t.listFolder.filter((function(t){return t.id===e})),t.breadcrumbs.push(r[0]);case 13:case"end":return a.stop()}}),a)})))()}},created:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$bus.emit("change_loading",!0),a=JSON.parse(localStorage.getItem("current-project")),t.next=5,fe(a.id);case 5:n=t.sent,e.listFolder=n.data,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,e.$bus.emit("change_loading",!1),t.finish(12);case 15:e.changeBgBreadcrumb();case 16:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))()},watch:{isInMyCollection:function(){this.changeBgBreadcrumb()}},mounted:function(){document.querySelector("body").className="schedule-with-body"},destroyed:function(){document.querySelector("body").className="common-with-body"}},Wt=Qt,Kt=(a("6a69"),Object(V["a"])(Wt,At,Nt,!1,null,"24d5f15d",null)),Zt=Kt.exports,ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-row"},[e._m(0),a("div",{staticClass:"el-col-10 el-col-offset-6 mt-2rem"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Code"}},[a("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"Manager"}},[a("el-input",{model:{value:e.form.captain_info.name,callback:function(t){e.$set(e.form.captain_info,"name",t)},expression:"form.captain_info.name"}})],1),a("el-form-item",{attrs:{label:"Schedule"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","start-placeholder":"Start date","end-placeholder":"End date","default-time":["00:00:00","23:59:59"]},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)]),a("el-form-item",[a("Googlemap")],1),a("el-form-item",{attrs:{label:"Project address"}},[a("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),a("el-form-item",{staticClass:"mb-2"},[a("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.onSubmit()}}},[e._v("Save")]),a("el-button",{on:{click:function(t){return e.$router.push({name:"schedule"})}}},[e._v("Cancel")])],1)],1)],1)])},ta=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-col-18 border-end el-col-offset-3 mt-2rem"},[a("span",[a("i",{staticClass:"el-icon-s-tools font-bold font-size-20"},[e._v("Project Setting")])])])}],aa={name:"ProjectSetting",components:{Googlemap:We},data:function(){return{form:{name:"",address:"",captain:"",date:"",code:"",manager:""}}},methods:{onSubmit:function(){console.log(this.form)}},created:function(){var e=JSON.parse(localStorage.getItem("current-project"));this.form.date=[new Date(e.start_date),new Date(e.end_date)],this.form=Object(s["a"])(Object(s["a"])({},this.form),e)}},na=aa,ra=Object(V["a"])(na,ea,ta,!1,null,"03eaae4e",null),sa=ra.exports,oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-row"},[e._m(0),a("div",{staticClass:"el-col-10 el-col-offset-6 mt-2rem"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{"label-width":"150px",label:"Full name"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Full name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Address"}},[a("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Phone number"}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Password"}},[a("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{"label-width":"150px",label:"Confirm password"}},[a("el-input",{attrs:{type:"password"},model:{value:e.form.confirmPassword,callback:function(t){e.$set(e.form,"confirmPassword",t)},expression:"form.confirmPassword"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.onSubmit()}}},[e._v("Save")]),a("el-button",{on:{click:function(t){return e.$router.push({name:"schedule"})}}},[e._v("Cancel")])],1)],1)],1)])},ia=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-col-18 border-end el-col-offset-3 mt-2rem"},[a("span",[a("i",{staticClass:"el-icon-s-custom font-bold font-size-20"},[e._v("Profile")])])])}],la={name:"Profile",data:function(){return{form:{name:"",address:"",phone:"",password:"",confirmPassword:"",email:""}}},methods:{onSubmit:function(){console.log(this.form)}},created:function(){var e=JSON.parse(localStorage.getItem("user"));this.form=e}},ca=la,ua=Object(V["a"])(ca,oa,ia,!1,null,"0cecc788",null),da=ua.exports;n["default"].use(oe["a"]);var ma=[{path:"/",redirect:"/admin"},{path:"/admin",component:Ge,name:"master",children:[{path:"/",component:Ie},{path:"schedule",component:Ie,name:"schedule",meta:{requiresAuth:!0}},{path:"overview",component:gt,name:"overview",meta:{requiresAuth:!0}},{path:"company",component:nt,name:"company",meta:{requiresAuth:!0}},{path:"login",component:se,name:"login",meta:{requiresAuth:!1}},{path:"people",component:Lt,name:"member",meta:{requiresAuth:!0}},{path:"image",component:Zt,name:"image",meta:{requiresAuth:!0}},{path:"setting",component:sa,name:"setting",meta:{requiresAuth:!0}},{path:"profile",component:da,name:"profile",meta:{requiresAuth:!0}},{path:"generate-report",component:mt,name:"generate-report",meta:{requiresAuth:!0}}]},{path:"/401",component:B,meta:{requiresAuth:!1}},{path:"/404",component:Y,meta:{requiresAuth:!1}}],pa=new oe["a"]({mode:"history",routes:ma});pa.beforeEach((function(e,t,a){var n=["/login"];0===e.matched.length&&a("/404"),e.matched.some((function(e){return e.meta.requiresAuth}))?J()?a():a({name:"login"}):R["includes"](n,e.path)&&J()?a({name:"schedule"}):a()}));var fa=pa,ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},ga=[],ba={name:"App"},va=ba,_a=(a("034f"),Object(V["a"])(va,ha,ga,!1,null,null,null)),ka=_a.exports,wa=a("b2d6"),ya=a.n(wa),xa=(a("0fae"),a("557b"),a("d4ec")),Ca=a("bee2"),Pa=function(){function e(){Object(xa["a"])(this,e),this.bus=new n["default"]}return Object(Ca["a"])(e,[{key:"on",value:function(e,t){this.bus.$on(e,t)}},{key:"once",value:function(e,t){this.bus.$once(e,t)}},{key:"off",value:function(e,t){this.bus.$off(e,t)}},{key:"emit",value:function(e){for(var t,a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];(t=this.bus).$emit.apply(t,[e].concat(n))}}]),e}(),Sa={install:function(e){var t=new Pa;e.prototype.$bus=t}},Oa=a("b4b3"),Ta=a.n(Oa),ja=(a("3a93"),a("0808"),a("6944")),$a=a.n(ja),Da=a("755e");n["default"].use(Da,{load:{key:"AIzaSyCO1TJ3n3ddYDrI-tYbk3Q6dT4XemSf_Ao",libraries:"places"}}),$a.a.setDefaults({zIndexInline:2017}),b.a.locale(ya.a),n["default"].use($a.a),n["default"].use(Ta.a),n["default"].use(Sa),n["default"].config.productionTip=!1,n["default"].use(b.a);var Ma=new n["default"]({render:function(e){return e(ka)},router:fa,store:E}).$mount("#app"),Ea=t["default"]=Ma},"6a69":function(e,t,a){"use strict";a("d5a3")},7135:function(e,t,a){"use strict";a("720b")},"720b":function(e,t,a){},"7e41":function(e,t,a){"use strict";a("bcc3")},8433:function(e,t,a){},"85ec":function(e,t,a){},"96b7":function(e,t,a){"use strict";a("e2e5")},9704:function(e,t,a){e.exports=a.p+"img/image_demo_project.af5f092d.png"},"9dac":function(e,t,a){e.exports=a.p+"img/bg_1.a8662f23.jpg"},b174:function(e,t,a){e.exports=a.p+"img/icon_image.91f95a2e.svg"},bcc3:function(e,t,a){},c31c:function(e,t,a){"use strict";a("2f27")},c473:function(e,t,a){"use strict";a("f162")},cf34:function(e,t,a){},d2c2:function(e,t,a){e.exports=a.p+"img/avatar_mc.37c3ea6b.png"},d5a3:function(e,t,a){},dbc3:function(e,t,a){e.exports=a.p+"img/logo_2.4bc08a25.svg"},e26f:function(e,t,a){"use strict";a("cf34")},e2e5:function(e,t,a){},e579:function(e,t,a){"use strict";a("8433")},e76a:function(e,t,a){},f162:function(e,t,a){},fea2:function(e,t,a){"use strict";a("531c")},ff51:function(e,t,a){e.exports=a.p+"img/bg_2.3ba34af2.svg"}});
//# sourceMappingURL=app.a17d4d48.js.map